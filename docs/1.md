### PHP 面试点

#### php 里的数组是怎么实现的？
HashTable + Linked list。php5 和 php7 实现的区别，优化了非常多

#### nginx 和 php-fpm 的通信机制？fast-cgi 和 cgi 区别？
1. [PHP-FPM 与 Nginx 的通信机制总结](https://segmentfault.com/a/1190000018048956)
1. tcp socket 和 unix socket(没有tcp的开销，高并发时不稳定)
1. cgi针对每个http请求都是fork一个新进程，fast-cgi会预先fork好worker

#### php-fpm 创建 worker 进程的规则是什么？不同场景下怎么选择？

#### php 和 mysql 的通信机制？长链接和短链接啥区别？怎么实现的？连接池要怎么实现？

#### 依赖注入是什么？如何实现的？能解决什么问题？
业务代码不再依赖具体实现，解耦

#### static、self、$this 的区别
1. static：static 可以用于静态或非静态方法中，也可以访问类的静态属性、方法和非静态方法，但不能访问非静态属性
1. self：可以用于访问类的静态属性和方法，但 self 指向的是当前定义所在的类，这是 self 的限制
1. $this：指向的是实际调用时的对象，但 $this 不能访问类的静态属性和方法，且 $this 不能存在于静态方法中

#### 不实例化的调用类
静态调用、使用 PHP 反射方式

#### PSR-1, 2, 4, 7

#### BOM 头是什么，怎么除去
文件开头的3个字节用来标识该文件属于utf-8编码，php无法识别它

#### oauth2.0和jwt
1. [读懂 SSO、OAuth 2.0、OpenID Connect](http://jiangew.me/sso-openid-connect/)
1. oauth2.0（用户——网站/APP——第三方平台）授权类型有：
 * 授权码模式，先得到Authorization Code，再得到Access Token
 * 隐式模式，将授权码模式的2步合成一步，直接得到Access Token
 * 密码凭证，用户直接输入账户密码
 * 客户端证书，这种一般是适用于：网站/APP——第三方平台
1. jwt：Authorization: Bearer <token>。适用场景是邮箱验证，邮箱改密码等。

#### 一致性hash算法
1. [PHP 之一致性 hash 算法](https://learnku.com/articles/30269)
1. 先把server hash对应到2^32的圆形槽中，查key的时候也hash对应到槽中，取就近的server
1. 为了保证server在圆形槽的均匀性，每个server虚拟化多个槽出来

#### composer自动加载
1. autoload.php、autoload_real.php、autoload_static.php
1. classmap、psr-4通过spl_autoload_register注册自动加载
1. files是直接include的
1. PS：要记得composer dump-autoload

#### 什么是闭包
1. [PHP 新特性之闭包、匿名函数](https://learnku.com/articles/5388)
1. 创建闭包后，闭包所在的环境不存在了，闭包封装的状态依然存在

#### git rebase使用
1. [Git rebase使用](https://www.jianshu.com/p/f7ed3dd0d2d8)
1. 在local分支上先git fetch origin再git rebase origin/master
1. 下游分支更新上游分支内容的时候使用 rebase
1. 上游分支合并下游分支内容的时候使用 merge
1. 更新当前分支的内容时一定要使用 --rebase 参数
1. git pull = git fetch + git merge

