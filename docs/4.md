### Linux 服务器

#### 服务器 Linux 版本
1. [Linux操作系统分类详解](https://tojohnonly.github.io/49-Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%88%86%E7%B1%BB%E8%AF%A6%E8%A7%A3.html)
1. Linux 可以分为两类：商业公司维护的发行版本(Redhat最著名)和社区组织维护的发行版本(Debian最著名)
1. RHEL：Redhat商用版本
1. CentOS：Redhat 系列，RHEL的社区克隆版本, 免费
1. Debian：最遵循 GNU 规范的 Linux系统
1. Ubuntu：基于 Debian 的 unstable 版本加强而来
1. FreeBSD：最大特点就是稳定和高效, 是作为服务器操作系统的最佳选择
1. OpenSUSE：Novell 公司资助的社区计划
1. SELinux，它是一个 Linux 内核模块，也是 Linux 的一个安全子系统。2.6 及以上版本的 Linux 内核都已经集成了 SELinux 模块。

#### 进程间通信IPC (InterProcess Communication)
1. [进程间通信IPC (InterProcess Communication)](https://www.jianshu.com/p/c1015f5ffa74)
1. 管道/匿名管道(pipe)：管道是半双工的，数据只能向一个方向流动；只能用于父子进程或者兄弟进程之间
1. 有名管道(FIFO)：也是半双工的，去除了管道只能在父子进程中使用的限制
1. 信号(Signal)：SIGKILL、SIGHUP等
1. 消息(Message)队列：消息队列是存放在内核中的消息链表，每个消息队列由消息队列标识符表示
1. 共享内存(share memory)，三种：mmap()系统调用、Posix共享内存，System V共享内存
1. 信号量(semaphore)，三种：Posix（可移植性操作系统接口）有名信号量（使用Posix IPC名字标识）、Posix基于内存的信号量（存放在共享内存区中）、System V信号量（在内核中维护）
1. 套接字(socket)

#### 进程建信号机制
信号是操作系统中进程间通讯的一种有限制的方式，是一种异步的通知机制，用来提醒进程一个事件已经发送
* SIGHUP：控制台操作
* SIGINT：终止进程，Ctrl + C
* SIGKILL：终止进程，kill -9
* SIGSTOP：停止进程的执行
* SIGCONT：恢复进程的执行

#### 查看进程打开了哪些文件
* lsof | grep mysql 查看mysql进程打开的文件
* lsof -i:3306 查看3306端口被谁占用

#### 什么是进程、线程、协程
1. [进程线程协程区别](https://github.com/colinlet/PHP-Interview-QA/blob/master/docs/07.Linux/QA.md)
1. 进程：进程是一个程序在一个数据集中的一次动态执行过程，可以简单理解为“正在执行的程序”，它是CPU 资源分配和调度的独立单位
1. 线程：线程是在进程之后发展出来的概念。 线程也叫轻量级进程，它是一个基本的 CPU 执行单元，也是程序执行过程中的最小单元，由线程 ID、程序计数器、寄存器集合和堆栈共同组成。一个进程可以包含多个线程
1. 协程：协程是一种用户态的轻量级线程，又称微线程，英文名 Coroutine，协程的调度完全由用户控制

#### 进程的调度算法

#### Linux下的网络 I/O 模型
1. [Linux IO模式及 select、poll、epoll详解](https://segmentfault.com/a/1190000003063859)
1. [python之IO多路复用（二）——select、poll、epoll详解](https://blog.51cto.com/itchentao/1895407)
1. 阻塞 I/O（blocking IO），socket默认情况下是阻塞 I/O
1. 非阻塞 I/O（nonblocking IO），需要用户进程需要不断的主动询问
1. I/O 多路复用（IO multiplexing）
 * select，有文件描述符的数量限制(1024)，内核准备好数据后通知用户，用户轮询获取
 * poll，不常使用
 * epoll，没有文件描述符的数量限制，内核准备好数据以后会通知用户哪个连接有数据了
1. 信号驱动 I/O（signal driven IO），不常使用
1. 异步 I/O（asynchronous IO），kernel会给用户进程发送一个signal，告知read操作完成

#### 用户态、内核态

#### Linux 常用命令
* [记一次丢包网络故障](https://blog.huoding.com/2013/02/26/233)
* vmstat 5：r第一列是cpu忙的个数，id是空闲cpu，us是用户cpu，sy是用户cpu
* iostat -dx 5：磁盘的读写速度
* sar -n DEV：查看网卡流量
* lsof -i:3306：查看端口进程
* strace -T -p <PID>：查看进程的trace和耗时

#### inode 是什么
每一个文件都有对应的 inode，除了文件名以外的所有文件信息，都存在inode之中

#### 硬链接和软链接
* 硬链接：ln 源文件 链接名
* 软链接：ln -s 源文件 链接名
* 区别：若将源文件删除，硬链接依旧有效，而软链接会无效，即找不到源文件

#### 孤儿进程和僵尸进程
* 孤儿进程：父进程退出了，被init进程收养
* 僵尸进程：ps -ef|grep defunc 可以查看。进程死了，但是没有被父进程通过 wait() 或 waitpid() 释放。


